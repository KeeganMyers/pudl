"""Change boiler_cooler_assn_eia860 to boiler_cooling_assn_eia860 for consistency with EIA reporting

Revision ID: 100916b1852b
Revises: 96b730f95c3c
Create Date: 2023-05-23 16:53:45.211652

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '100916b1852b'
down_revision = '96b730f95c3c'
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('boiler_cooling_assn_eia860',
    sa.Column('report_date', sa.Date(), nullable=False, comment='Date reported.'),
    sa.Column('plant_id_eia', sa.Integer(), nullable=False, comment='The unique six-digit facility identification number, also called an ORISPL, assigned by the Energy Information Administration.'),
    sa.Column('boiler_id', sa.Text(), nullable=False, comment='Alphanumeric boiler ID.'),
    sa.Column('cooling_id_eia', sa.Text(), nullable=False, comment='The cooling system identification number reported to EIA. This value may not be a unique identifier'),
    sa.Column('data_maturity', sa.Text(), nullable=True, comment='Level of maturity of the data record. Some data sources report less-than-final data. PUDL sometimes includes this data, but use at your own risk.'),
    sa.ForeignKeyConstraint(['data_maturity'], ['data_maturities.code'], ),
    sa.ForeignKeyConstraint(['plant_id_eia', 'boiler_id', 'report_date'], ['boilers_eia860.plant_id_eia', 'boilers_eia860.boiler_id', 'boilers_eia860.report_date'], ),
    sa.PrimaryKeyConstraint('report_date', 'plant_id_eia', 'boiler_id', 'cooling_id_eia')
    )
    op.drop_table('boiler_cooler_assn_eia860')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('boiler_cooler_assn_eia860',
    sa.Column('report_date', sa.DATE(), nullable=False),
    sa.Column('plant_id_eia', sa.INTEGER(), nullable=False),
    sa.Column('boiler_id', sa.TEXT(), nullable=False),
    sa.Column('cooling_id_eia', sa.TEXT(), nullable=False),
    sa.Column('data_maturity', sa.TEXT(), nullable=True),
    sa.ForeignKeyConstraint(['data_maturity'], ['data_maturities.code'], ),
    sa.ForeignKeyConstraint(['plant_id_eia', 'boiler_id', 'report_date'], ['boilers_eia860.plant_id_eia', 'boilers_eia860.boiler_id', 'boilers_eia860.report_date'], ),
    sa.PrimaryKeyConstraint('report_date', 'plant_id_eia', 'boiler_id', 'cooling_id_eia')
    )
    op.drop_table('boiler_cooling_assn_eia860')
    # ### end Alembic commands ###
